### NOTA ANDREA 16/08/2024 ###
Versione del codice usata per implementazioni FloodProofs Volta e FloodProofs Burkina Faso
Differisce (ad occhio) dalla dev ufficiale per alcune parti hard-coded che poi sono state parametrizzate, in particolare:
- manca parametrizzazione kSatRatio (Module_Data_Static_Gridded - commenti !giulia in dev + vars_manager e type_vars)
- variabilità dell'infiltration rate NON fornita da info file (verifica come è gestita in AppHorton commenti !giulia)
- esponenziale per scarico fondo dighe messa a 2 invece di 6 (linea 270 App_SurfaceFlow commento !!Andrea)
- eliminato controllo su max volume invaso perchè dava scarichi impulsivi (Phys_HydaulicStructure (commento !! commented andrea)
- diffetenze nel calcolo della canopy resistance (Phys_LSM linee 806 e 816 da cfr con dev)
##############################

# Seguono i commenti originali da Giulia
QUESTO È CODICE SCARICATO DAL MIO NETBEANS (giulia) IL 29/5/2023; CON:

- baco 1 e 2 falda sistemati (il 2 da confermare al 100%, vedi sotto ***)
- parametrizzazione suolo indipendente (vmax, ksat-infilt, ksat-drain) + ksat orizzontale per falda indipendente (vedi sotto per qualche info in più)
- possibilità di manipolare la ripartizione del drenaggio tra percolazione e ipodermico (vedi sotto per qualche info in più)

- variabilità capacità infiltrazione con saturazione suolo gestita tramite flag dedicata + costante se non-linear E possibilità di imporre beta function et = 1 sempre e comunque, sia nuovo che vecchio modulo ET, tramite flag dedicata
	&HMC_Namelist
	! Soil infiltration capacity variability with soil saturation (0=no variability, 1=linear variability, 2=non linear variability)
	! (non linear is from Yang et al. 2020, Improving the Horton infiltration ...)
	iFlagInfiltRateVariable = 2
	! Evapotranspiration reduction with water stress 
	! (0=no reduction except for mass balance constraint; 1=classical beta function-different between Jarvis and pre-Jarvis ET module)
	iFlagBetaET = 0

	&HMC_Constants
	! Decay parameter (k) of "Infilt = ksat_infilt + (ksat_infilt/cf-ksat_infilt)*exp(-k*(sat/1-sat))" 
	! (active only if iFlagVariableInfiltRate=2)
	dPowVarInfiltRate = 7
	

CON IN PIÙ LE MODIFICHE SPECIFICHE PER IL VOLTA RIPORTATE QUI SOTTO E SEGNATE CON °°° 

---------------------------------------------------------------------------

Vecchio "LOG CARATTERISTICHE CODICE" dalla versione "GIULIA_02:


MODIFICHE GIÀ PRESENTI NELLA VERSIONE "GIULIA":
- baco falda sistemato
- no variabilità capacità infiltrazione con saturazione suolo
- parametrizzazione suolo indipendente (vmax, ksat-infilt, ksat-drain)
- beta=1 [inserito con "!andrea TEMPORANEO" in HMC_Module_Phys_LSM_Apps.f90] ATTENZIONE!!! funziona solo se ci sono anche modifiche nel blocco where subito successivo (! Computation of canopy resistance)


QUI SI AGGIUNGONO:
- un altro mini-baco falda sistemato (da confermare al 100%)***
- ksat orizzontale per falda indipendente --> obbligatorio il valore scalare nell'info file (dWtable_ksath da aggiungere nel primo blocco, "&HMC_Parameters")
- possibilità di manipolare la ripartizione del drenaggio tra percolazione e ipodermico. Nell'info file, dRateRescaling nel blocco "&HMC_Constants"; per comodità di lettura vicino a dRateMin che c'era già. 

MODIFICHE ANDREA MAGGIO 2023:
°°°  - Modificato coefficiente spinngi dighe a 2 (era 6) --> circa riga 270 di HMC_Module_Phys_Convolution_Apps_SurfaceFlow.f90
°°°  - Rimosso check sul volume massimo invasato a fine step --> circa 186 di HMC_Module_Phys_HydraulicStructure.f90


*** è in "HMC_Module_Phys_Convolution_Apps_DeepFlow.f90" e ci sono 2 occorrenze segnate con "!giulia - credo /1000=baco"


---------------------------------------------------------------------------



